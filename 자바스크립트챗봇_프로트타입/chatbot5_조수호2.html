<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/ì±—ë´‡.css">
    <title>chatbot5_ì¡°ìˆ˜í˜¸2</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>
<div id="chat-container"></div>
<script>
    $(function () {
        const chatContainer = $('#chat-container');
        let CATEGORY_STATUS = 1;
        let selectedGender = '';
        let selectedShoeType = '';

        function appendMessage(sender, message) {
            const messageElement = $('<div></div>').html(`<strong>${sender}:</strong>${message}`);
            chatContainer.append(messageElement);
            chatContainer.scrollTop(chatContainer.prop('scrollHeight'));
        }

        function í™˜ì˜ì¸ì‚¬() {
            appendMessage('chatbot', '<br>ì‹ ë°œ ì „ë¬¸ ì‡¼í•‘ëª° SHOES LABì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ’–ğŸ’–' +
                '<br>ë¬¸ì˜í•˜ì‹¤ ë‚´ìš©ì„ ìœ„í•´ ì•„ë˜ í•­ëª© ì¤‘ ì…ë ¥í•´ì£¼ì„¸ìš” :)');
            showButtons(['1. ë‚¨ì„±ìš©', '2. ì—¬ì„±ìš©', '3. í‚¤ì¦ˆìš©']);
        }

        function sendMessage(userMessage) {
            appendMessage('User', userMessage);

            const genderOptions = ['1', 'ë‚¨ì„±ìš©', '2', 'ì—¬ì„±ìš©', '3', 'í‚¤ì¦ˆìš©'];
            const selectedGenderOption = genderOptions.find(option => userMessage.toLowerCase().includes(option));

            if (selectedGenderOption) {
                selectedGender = selectedGenderOption === '1' ? 'ë‚¨ì„±ìš©' : selectedGenderOption === '2' ? 'ì—¬ì„±ìš©' : 'í‚¤ì¦ˆìš©';
                    selectedGender = 'ë‚¨ì„±ìš©';
                    showSubCategories(['ìŠ¤ë‹ˆì»¤ì¦ˆ', 'ì¶•êµ¬í™”', 'ëŸ°ë‹í™”', 'ìŠ¬ë¦¬í¼', 'ë“±ì‚°í™”', 'ìŠ¬ë¦½ì˜¨']);
                    CATEGORY_STATUS = 2;

                } else {
                    setTimeout(function () {
                        appendMessage('chatbot', 'ì£„ì†¡í•©ë‹ˆë‹¤. ì…ë ¥í•˜ì‹  ì •ë³´ë¡œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤ğŸ˜¥');
                    }, 500);
                }
            }

        const shoesOptions = ['1', 'ë‚¨ì„±ìš©', '2', 'ì—¬ì„±ìš©', '3', 'í‚¤ì¦ˆìš©'];
        const selectedShoesOption = shoesOptions.find(option => userMessage.toLowerCase().includes(option));

        if (CATEGORY_STATUS === 2) {
                if (selectedShoesOption) {
                    selectedShoes=selectedShoesOption==='1'?'ìŠ¤ë‹ˆì»¤ì¦ˆ':selectedShoesOption==='2'?'ì¶•êµ¬í™”':selectedShoesOption==='3'?'ëŸ¬ë‹í™”'
                        :selectedShoesOption==='4'?'ìŠ¬ë¦¬í¼':selectedShoesOption==='5'?'ë“±ì‚°í™”':'ìŠ¬ë¦½ì˜¨';
                    selectedShoeType = 'ìŠ¤ë‹ˆì»¤ì¦ˆ';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;
                } else if (userMessage.toLowerCase().includes('2') || userMessage.toLowerCase().includes('ì¶•êµ¬í™”')) {
                    selectedShoeType = 'ì¶•êµ¬í™”';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;
                } else if (userMessage.toLowerCase().includes('3') || userMessage.toLowerCase().includes('ëŸ°ë‹í™”')) {
                    selectedShoeType = 'ëŸ°ë‹í™”';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;
                } else if (userMessage.toLowerCase().includes('4') || userMessage.toLowerCase().includes('ìŠ¬ë¦¬í¼')) {
                    selectedShoeType = 'ìŠ¬ë¦¬í¼';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;
                } else if (userMessage.toLowerCase().includes('5') || userMessage.toLowerCase().includes('ë“±ì‚°í™”')) {
                    selectedShoeType = 'ë“±ì‚°í™”';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;
                } else if (userMessage.toLowerCase().includes('6') || userMessage.toLowerCase().includes('ìŠ¬ë¦½ì˜¨')) {
                    selectedShoeType = 'ìŠ¬ë¦½ì˜¨';
                    showSubCategories2(['']);
                    CATEGORY_STATUS = 3;


                } else {
                    setTimeout(function () {
                        appendMessage('chatbot', 'ì£„ì†¡í•©ë‹ˆë‹¤. ì…ë ¥í•˜ì‹  ì •ë³´ë¡œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤ğŸ˜¥');
                    }, 500);
                }
            }
            userInput.val('');
        }

        function showButtons(buttonTexts) {
            const buttonsContainer = $('<div></div>').addClass('buttons-container');

            buttonTexts.forEach((text, index) => {
                const button = $('<button></button>').text(text);
                button.click(function () {
                    sendMessage(text);
                });
                buttonsContainer.append(button);
            });

            chatContainer.append(buttonsContainer);
            chatContainer.scrollTop(chatContainer.prop('scrollHeight'));
        }

        function showSubCategories(subCategories) {
            setTimeout(function () {
                appendMessage('<br>chatbot', `<br>ì„ íƒí•œ ì„±ë³„: ${selectedGender}`);
                appendMessage('chatbot', '<br>ì‹ ë°œ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”ğŸ‘Ÿ');
                showButtons(subCategories);
                for (let k = 0; k < subCategories.length; k++) {
                    chatContainer.append(`${k + 1}.${subCategories[k]}<br>`);
                }
                chatContainer.scrollTop(chatContainer.prop('scrollHeight'));
            }, 500);
        }

        function showSubCategories2(subCategories) {
            setTimeout(function () {
                appendMessage('<br>chatbot', `<br>ì„ íƒí•œ ì‹ ë°œ ì¢…ë¥˜: ${selectedShoeType}`);
                appendMessage('chatbot', '<br>ì…ë ¥í•˜ì‹  ì‹ ë°œ ì •ë³´ì˜ í˜ì´ì§€ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤ğŸ˜ŠğŸ˜Š');

                let link;
                if (selectedGender === 'ë‚¨ì„±ìš©') {
                    if (selectedShoeType === 'ìŠ¤ë‹ˆì»¤ì¦ˆ') {
                        link = $('<a></a>').attr('href', 'man_sneakers.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ìŠ¤ë‹ˆì»¤ì¦ˆ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ì¶•êµ¬í™”') {
                        link = $('<a></a>').attr('href', 'man_soccer.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ì¶•êµ¬í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ëŸ°ë‹í™”') {
                        link = $('<a></a>').attr('href', 'man_soccer.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ëŸ°ë‹í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦¬í¼') {
                        link = $('<a></a>').attr('href', 'man_soccer.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ìŠ¬ë¦¬í¼ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ë“±ì‚°í™”') {
                        link = $('<a></a>').attr('href', 'man_soccer.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ë“±ì‚°í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦½ì˜¨') {
                        link = $('<a></a>').attr('href', 'man_soccer.html').attr('target', '_blank').text('ë‚¨ì„±ìš© ìŠ¬ë¦½ì˜¨ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    }
                } else if (selectedGender === 'ì—¬ì„±ìš©') {
                    if (selectedShoeType === 'ìŠ¤ë‹ˆì»¤ì¦ˆ') {
                        link = $('<a></a>').attr('href', 'woman_sneakers.html').attr('target', '_blank').text('ì—¬ì„±ìš© ìŠ¤ë‹ˆì»¤ì¦ˆ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ëŸ°ë‹í™”') {
                        link = $('<a></a>').attr('href', 'woman_running.html').attr('target', '_blank').text('ì—¬ì„±ìš© ëŸ°ë‹í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦¬í¼') {
                        link = $('<a></a>').attr('href', 'woman_running.html').attr('target', '_blank').text('ì—¬ì„±ìš© ìŠ¬ë¦¬í¼ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ë¶€ì¸ ') {
                        link = $('<a></a>').attr('href', 'woman_running.html').attr('target', '_blank').text('ì—¬ì„±ìš© ë¶€ì¸  ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'í•˜ì´í‚¹ë¶€ì¸ ') {
                        link = $('<a></a>').attr('href', 'woman_running.html').attr('target', '_blank').text('ì—¬ì„±ìš© í•˜ì´í‚¹ë¶€ì¸  ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦½ì˜¨') {
                        link = $('<a></a>').attr('href', 'woman_running.html').attr('target', '_blank').text('ì—¬ì„±ìš© ìŠ¬ë¦½ì˜¨ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    }
                } else if (selectedGender === 'í‚¤ì¦ˆìš©') {
                    if (selectedShoeType === 'ìŠ¤ë‹ˆì»¤ì¦ˆ') {
                        link = $('<a></a>').attr('href', 'kids_slippers.html').attr('target', '_blank').text('í‚¤ì¦ˆìš© ìŠ¤ë‹ˆì»¤ì¦ˆ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ì¶•êµ¬í™”') {
                        link = $('<a></a>').attr('href', 'kids_hiking.html').attr('target', '_blank').text('í‚¤ì¦ˆìš© ì¶•êµ¬í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ëŸ°ë‹í™”') {
                        link = $('<a></a>').attr('href', 'kids_hiking.html').attr('target', '_blank').text('í‚¤ì¦ˆìš© ëŸ°ë‹í™” ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦¬í¼') {
                        link = $('<a></a>').attr('href', 'kids_hiking.html').attr('target', '_blank').text('í‚¤ì¦ˆìš© ìŠ¬ë¦¬í¼ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    } else if (selectedShoeType === 'ìŠ¬ë¦½ì˜¨') {
                        link = $('<a></a>').attr('href', 'kids_hiking.html').attr('target', '_blank').text('í‚¤ì¦ˆìš© ìŠ¬ë¦½ì˜¨ ìƒì„¸ ì •ë³´ ë³´ëŸ¬ ê°€ê¸°');
                    }
                }
                if (!link) {
                    link = $('<a></a>').attr('href', 'default.html').attr('target', '_blank').text('ë©”ì¸ í˜ì´ì§€ ë³´ëŸ¬ ê°€ê¸°');
                }

                chatContainer.append(link);
                chatContainer.scrollTop(chatContainer.prop('scrollHeight'));
            }, 500);
        }


        í™˜ì˜ì¸ì‚¬();

        let inputContainer = $('<div id="input-container"></div>').appendTo('body');
        let userInput = $('<input type="text" id="user-input" placeholder="ë¬´ì—‡ì´ ê¶ê¸ˆí•œê°€ìš”?">').appendTo(inputContainer);
        let sendBtn = $('<button id="send-btn">ì§ˆë¬¸</button>').appendTo(inputContainer);

        sendBtn.click(function () {
            const userMessage = userInput.val();
            sendMessage(userMessage);
        });

        userInput.keypress(function (e) {
            if (e.which === 13) {
                const userMessage = userInput.val();
                sendMessage(userMessage);
            }
        });
    });
</script>
</body>
</html>